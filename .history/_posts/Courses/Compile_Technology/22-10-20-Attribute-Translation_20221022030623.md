---
layout:     post
title:      "编译课笔记03"
subtitle:  属性翻译文法
date:       2022-10-22
author:     Leo
header-img: "img/post-compile.jpg"
catalog: true
tags: ["Compile@Tpags@Tags", "编译技术@Courses@Series"]
lang: zh
katex: true
---

欠了好久了，有些东西就先跳过了，后面有时间再补吧，先把一些感觉之前没有学的很懂的东西再捋一遍。

# 语法制导翻译技术

在翻译文法的基础上，扩充了值的概念。

## 综合属性

![20221022011605](https://s2.loli.net/2022/10/22/tJCNe1pQ6TXHlIo.png)

于是在表示属性计算的语法树上就可以通过这样向上传递的返回值得到表达式的结果，于是进一步的，规则可以改写为一下形式：

![20221022011742](https://s2.loli.net/2022/10/22/7VS8QosmpMecAgD.png)

右边的式子可以被称为求值规则，其对应的语法树如下图

![20221022012005](https://s2.loli.net/2022/10/22/MSgN8kheGZoByRc.png)

这样通过自底向上进行求值的属性也被称为**综合属性**。类似于递归时，一层层得到的返回值。

## 继承属性

其很多时候会作为动作符号所需的参数从而进入规则当中，而对于动作表中的参数，也就是向下传到的值，其必须在本条规则中有来源，一般是由在他左边的值传递得到。而这时的值又可以分为两种，一是从上一条规则传递下来继承得到，一是由底层的返回值得到。

![20221022025031](https://s2.loli.net/2022/10/22/WofA8BsMb1jIavd.png)

如上面的第②条规则中，变量表的$t_2$就是从上一条的$t_1$传递下来的，因此为↓，而id的值可以词法分析程序返回值得到，因此可以为↑。

---

对比来看，综合属性式自底向上的属性传递，而继承属性式自顶向下、自左向右的属性

## 属性翻译文法

### 满足条件

1. 文中的终结符、非终结符和动作符号都带有属性。
2. 非终结符和动作符号属性可以分为继承属性和综合属性
3. 开始符号的继承属性具有指定初值（可以从传参角度来看）
4. 终结符号的综合属性具有指定初始（叶子函数的返回值）
5. 继承属性求值原则：产生式右部符号的继承属性值，用该产生式其他符号的属性值进行计算。若是左部的非终结符，则继承前面产生式该符号已有的继承属性值/
6. 综合属性求值原则：
   * 尝试左部非终结符号的综合属性值，用该产生式左部或右部的某些属性值进行计算
   * 动作符号的综合属性值，用该符号的其他属性值进行计算。同若为右部产生式，其为其作为下部产生式的左部时所得到的综合属性值
   * 