(function(){var n,t=(n=window.location.href.split("?")[0],function(t){"string"==typeof t?window.history.replaceState(null,"",n+t):window.history.replaceState(null,"",n)});$(document).ready(function(){function n(n){n&&(n.addClass("focus"),d&&!d.is(n)&&d.removeClass("focus"),d=n)}function e(e,o){var d,f,c,h,g,p={};for(f=0;f<l.length;f++)for(d=l[f],c=0;c<d.length;c++)if(""===e||void 0===e)p[f]||(p[f]={}),p[f][c]=!0;else{var v=d.eq(c).data("tags").split(",");for(h=0;h<v.length;h++)if(v[h]===e){p[f]||(p[f]={}),p[f][c]=!0;break}}for(f=0;f<l.length;f++)for(p[f]&&s.eq(f).removeClass("d-none"),p[f]||s.eq(f).addClass("d-none"),c=0;c<l[f].length;c++)p[f]&&p[f][c]?l[f].eq(c).removeClass("d-none"):l[f].eq(c).addClass("d-none");u||(a.removeClass("d-none"),u=!0),o?(n(o),g=o.attr("data-encode"),_order=g.split("%40").slice(-1)[0].toLowerCase(),""===g||"string"!=typeof g?t():t("?order="+_order+"&tag="+g)):n(function(n){if(!n)return r;var t=i.filter('[data-encode="'+n+'"]');return 0===t.length?r:t}(e))}var o=$(".js-tags"),i=o.find(".tag-button"),r=o.find(".tag-button--all"),a=$(".js-result"),s=a.find("section"),l=[],d=null,f=[],u=!1;s.each(function(){l.push($(this).find(".item"))});var c=function(){var n,t=0,e={},o=window.location.search.substring(1).split("&");for(t=0;t<o.length;t++)void 0===e[(n=o[t].split("="))[0]]?e[n[0]]=n[1]:"string"==typeof e[n[0]]?e[n[0]]=[e[n[0]],n[1]]:e[n[0]].push(n[1]);return e}().tag;(function(){var n,t=0;for(n=0;n<s.length;n++)f.push(t),t+=s.eq(n).find(".item").length;f.push(t)})(),e(c),o.on("click","a",function(){e($(this).data("encode"),$(this))})})})();